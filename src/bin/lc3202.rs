#![allow(dead_code)]
struct Solution;

impl Solution {
    pub fn maximum_length(nums: Vec<i32>, k: i32) -> i32 {
        let n = nums.len();
        let mut ans = 0;

        let mut dp = vec![vec![0;k as usize];n];
        for i in 1..n
        {
            for j in 0..i
            {
                let r#mod = ((nums[i] + nums[j]) % k) as usize;
                dp[i][r#mod] = dp[i][r#mod].max(dp[j][r#mod] + 1);
                ans = ans.max(dp[i][r#mod]);
            }
        }


        ans + 1
    }
}

fn main(){}

#[cfg(test)]
mod test
{
    use crate::*;

    #[test]
    // #[ignore]
    fn case1()
    {
        assert_eq!(Solution::maximum_length((1..=10000).collect(),2) ,10000);
    }

    #[test]
    fn case2()
    {
        assert_eq!(Solution::maximum_length(vec![1,2,1,1,2,1,2],2) ,6);
    }

    #[test]
    fn case3()
    {
        assert_eq!(Solution::maximum_length(vec![1,7,6,2,9],2) ,3);
    }

    #[test]
    fn case4()
    {
        assert_eq!(Solution::maximum_length(vec![1,4,2,3,1,4],3) ,4);
    }

    #[test]
    fn case5()
    {
        assert_eq!(Solution::maximum_length(vec![1,7,9],10) ,2);
    }

    #[test]
    fn case6()
    {
        assert_eq!(Solution::maximum_length(vec![1,5,9,2,8],2) ,3);
    }

    #[test]
    // #[ignore]
    fn case7()
    {
        assert_eq!(Solution::maximum_length(vec![1000,2000,3000,4000,5000,1000,2000,3000,4000,5000,1000,2000,3000,4000,5000,1000,2000,3000,4000,5000,1000,2000,3000,4000,5000,1000,2000,3000,4000,5000,1000,2000,3000,4000,5000,1000,2000,3000,4000,5000,1000,2000,3000,4000,5000,1000,2000,3000,4000,5000,1000,2000,3000,4000,5000,1000,2000,3000,4000,5000,1000,2000,3000,4000,5000,1000,2000,3000,4000,5000,1000,2000,3000,4000,5000,1000,2000,3000,4000,5000,1000,2000,3000,4000,5000,1000,2000,3000,4000,5000,1000,2000,3000,4000,5000,1000,2000,3000,4000,5000,1000,2000,3000,4000,5000,1000,2000,3000,4000,5000,1000,2000,3000,4000,5000,1000,2000,3000,4000,5000,1000,2000,3000,4000,5000,1000,2000,3000,4000,5000,1000,2000,3000,4000,5000,1000,2000,3000,4000,5000,1000,2000,3000,4000,5000,1000,2000,3000,4000,5000,1000,2000,3000,4000,5000,1000,2000,3000,4000,5000,1000,2000,3000,4000,5000,1000,2000,3000,4000,5000,1000,2000,3000,4000,5000,1000,2000,3000,4000,5000,1000,2000,3000,4000,5000,1000,2000,3000,4000,5000,1000,2000,3000,4000,5000,1000,2000,3000,4000,5000,1000,2000,3000,4000,5000,1000,2000,3000,4000,5000,1000,2000,3000,4000,5000,1000,2000,3000,4000,5000,1000,2000,3000,4000,5000,1000,2000,3000,4000,5000,1000,2000,3000,4000,5000,1000,2000,3000,4000,5000,1000,2000,3000,4000,5000,1000,2000,3000,4000,5000,1000,2000,3000,4000,5000,1000,2000,3000,4000,5000,1000,2000,3000,4000,5000,1000,2000,3000,4000,5000,1000,2000,3000,4000,5000,1000,2000,3000,4000,5000,1000,2000,3000,4000,5000,1000,2000,3000,4000,5000,1000,2000,3000,4000,5000,1000,2000,3000,4000,5000,1000,2000,3000,4000,5000,1000,2000,3000,4000,5000,1000,2000,3000,4000,5000,1000,2000,3000,4000,5000,1000,2000,3000,4000,5000,1000,2000,3000,4000,5000,1000,2000,3000,4000,5000,1000,2000,3000,4000,5000,1000,2000,3000,4000,5000,1000,2000,3000,4000,5000,1000,2000,3000,4000,5000,1000,2000,3000,4000,5000,1000,2000,3000,4000,5000,1000,2000,3000,4000,5000,1000,2000,3000,4000,5000,1000,2000,3000,4000,5000,1000,2000,3000,4000,5000,1000,2000,3000,4000,5000,1000,2000,3000,4000,5000,1000,2000,3000,4000,5000,1000,2000,3000,4000,5000,1000,2000,3000,4000,5000,1000,2000,3000,4000,5000,1000,2000,3000,4000,5000,1000,2000,3000,4000,5000,1000,2000,3000,4000,5000,1000,2000,3000,4000,5000,1000,2000,3000,4000,5000,1000,2000,3000,4000,5000,1000,2000,3000,4000,5000,1000,2000,3000,4000,5000,1000,2000,3000,4000,5000,1000,2000,3000,4000,5000,1000,2000,3000,4000,5000,1000,2000,3000,4000,5000,1000,2000,3000,4000,5000,1000,2000,3000,4000,5000,1000,2000,3000,4000,5000,1000,2000,3000,4000,5000,1000,2000,3000,4000,5000,1000,2000,3000,4000,5000,1000,2000,3000,4000,5000,1000,2000,3000,4000,5000,1000,2000,3000,4000,5000,1000,2000,3000,4000,5000,1000,2000,3000,4000,5000,1000,2000,3000,4000,5000,1000,2000,3000,4000,5000,1000,2000,3000,4000,5000,1000,2000,3000,4000,5000,1000,2000,3000,4000,5000,1000,2000,3000,4000,5000,1000,2000,3000,4000,5000,1000,2000,3000,4000,5000,1000,2000,3000,4000,5000,1000,2000,3000,4000,5000,1000,2000,3000,4000,5000,1000,2000,3000,4000,5000,1000,2000,3000,4000,5000,1000,2000,3000,4000,5000,1000,2000,3000,4000,5000,1000,2000,3000,4000,5000,1000,2000,3000,4000,5000,1000,2000,3000,4000,5000,1000,2000,3000,4000,5000,1000,2000,3000,4000,5000,1000,2000,3000,4000,5000,1000,2000,3000,4000,5000,1000,2000,3000,4000,5000,1000,2000,3000,4000,5000,1000,2000,3000,4000,5000,1000,2000,3000,4000,5000,1000,2000,3000,4000,5000,1000,2000,3000,4000,5000,1000,2000,3000,4000,5000,1000,2000,3000,4000,5000,1000,2000,3000,4000,5000,1000,2000,3000,4000,5000,1000,2000,3000,4000,5000,1000,2000,3000,4000,5000,1000,2000,3000,4000,5000,1000,2000,3000,4000,5000,1000,2000,3000,4000,5000,1000,2000,3000,4000,5000,1000,2000,3000,4000,5000,1000,2000,3000,4000,5000,1000,2000,3000,4000,5000,1000,2000,3000,4000,5000,1000,2000,3000,4000,5000,1000,2000,3000,4000,5000,1000,2000,3000,4000,5000,1000,2000,3000,4000,5000,1000,2000,3000,4000,5000,1000,2000,3000,4000,5000,1000,2000,3000,4000,5000,1000,2000,3000,4000,5000,1000,2000,3000,4000,5000,1000,2000,3000,4000,5000,1000,2000,3000,4000,5000,1000,2000,3000,4000,5000,1000,2000,3000,4000,5000,1000,2000,3000,4000,5000,1000,2000,3000,4000,5000,1000,2000,3000,4000,5000,1000,2000,3000,4000,5000,1000,2000,3000,4000,5000,1000,2000,3000,4000,5000,1000,2000,3000,4000,5000,1000,2000,3000,4000,5000,1000,2000,3000,4000,5000,1000,2000,3000,4000,5000,1000,2000,3000,4000,5000,1000,2000,3000,4000,5000,1000,2000,3000,4000,5000,1000,2000,3000,4000,5000,1000,2000,3000,4000,5000,1000,2000,3000,4000,5000,1000,2000,3000,4000,5000,1000,2000,3000,4000,5000,1000,2000,3000,4000,5000,1000,2000,3000,4000,5000,1000,2000,3000,4000,5000,1000,2000,3000,4000,5000,1000,2000,3000,4000,5000,1000,2000,3000,4000,5000,1000,2000,3000,4000,5000,1000,2000,3000,4000,5000,1000,2000,3000,4000,5000,1000,2000,3000,4000,5000,1000,2000,3000,4000,5000,1000,2000,3000,4000,5000,1000,2000,3000,4000,5000,1000,2000,3000,4000,5000,1000,2000,3000,4000,5000,1000,2000,3000,4000,5000,1000,2000,3000,4000,5000,1000,2000,3000,4000,5000,1000,2000,3000,4000,5000,1000,2000,3000,4000,5000,1000,2000,3000,4000,5000],750) ,800);
    }
}